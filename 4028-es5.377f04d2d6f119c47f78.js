!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkat10dance=self.webpackChunkat10dance||[]).push([[4028],{4028:function(a,o,i){i.r(o),i.d(o,{CameraWeb:function(){return p},Camera:function(){return l}});var c=i(8239),u=i(8384),s=i(4021),p=function(a){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(f,a);var o,i,p,l=n(f);function f(){return e(this,f),l.apply(this,arguments)}return o=f,(i=[{key:"getPhoto",value:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=(0,c.Z)(regeneratorRuntime.mark(function r(n,a){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.webUseInput||e.source===s.oK.Photos?t.fileInputExperience(e,n):e.source===s.oK.Prompt?((o=document.querySelector("pwa-action-sheet"))||(o=document.createElement("pwa-action-sheet"),document.body.appendChild(o)),o.header=e.promptLabelHeader||"Photo",o.cancelable=!1,o.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],o.addEventListener("onSelection",function(){var r=(0,c.Z)(regeneratorRuntime.mark(function r(o){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0===o.detail?t.fileInputExperience(e,n):t.cameraExperience(e,n,a);case 1:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}())):t.cameraExperience(e,n,a);case 1:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()}},{key:"pickImages",value:function(e){var t=this;return(0,c.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,c.Z)(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.multipleFileInputExperience(r);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}))()}},{key:"cameraExperience",value:function(e,t,r){var n=this;return(0,c.Z)(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!customElements.get("pwa-camera-modal")){a.next=15;break}return o=document.createElement("pwa-camera-modal"),document.body.appendChild(o),a.prev=3,a.next=6,o.componentOnReady();case 6:o.addEventListener("onPhoto",function(){var a=(0,c.Z)(regeneratorRuntime.mark(function a(i){var c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==(c=i.detail)){a.next=5;break}r(new u.xz("User cancelled photos app")),a.next=14;break;case 5:if(!(c instanceof Error)){a.next=9;break}r(c),a.next=14;break;case 9:return a.t0=t,a.next=12,n._getCameraPhoto(c,e);case 12:a.t1=a.sent,(0,a.t0)(a.t1);case 14:o.dismiss(),document.body.removeChild(o);case 16:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()),o.present(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),n.fileInputExperience(e,t);case 13:a.next=16;break;case 15:console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/pwa-elements."),n.fileInputExperience(e,t);case 16:case"end":return a.stop()}},a,null,[[3,10]])}))()}},{key:"fileInputExperience",value:function(e,t){var r=document.querySelector("#_capacitor-camera-input"),n=function(){var e;null===(e=r.parentNode)||void 0===e||e.removeChild(r)};r||((r=document.createElement("input")).id="_capacitor-camera-input",r.type="file",r.hidden=!0,document.body.appendChild(r),r.addEventListener("change",function(a){var o=r.files[0],i="jpeg";if("image/png"===o.type?i="png":"image/gif"===o.type&&(i="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){var c=new FileReader;c.addEventListener("load",function(){if("dataUrl"===e.resultType)t({dataUrl:c.result,format:i});else if("base64"===e.resultType){var r=c.result.split(",")[1];t({base64String:r,format:i})}n()}),c.readAsDataURL(o)}else t({webPath:URL.createObjectURL(o),format:i}),n()})),r.accept="image/*",r.capture=!0,e.source===s.oK.Photos||e.source===s.oK.Prompt?r.removeAttribute("capture"):e.direction===s.GW.Front?r.capture="user":e.direction===s.GW.Rear&&(r.capture="environment"),r.click()}},{key:"multipleFileInputExperience",value:function(e){var t=document.querySelector("#_capacitor-camera-input-multiple");t||((t=document.createElement("input")).id="_capacitor-camera-input-multiple",t.type="file",t.hidden=!0,t.multiple=!0,document.body.appendChild(t),t.addEventListener("change",function(r){for(var n=[],a=0;a<t.files.length;a++){var o=t.files[a],i="jpeg";"image/png"===o.type?i="png":"image/gif"===o.type&&(i="gif"),n.push({webPath:URL.createObjectURL(o),format:i})}e({photos:n}),function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}()})),t.accept="image/*",t.capture=!0,t.click()}},{key:"_getCameraPhoto",value:function(e,t){return new Promise(function(r,n){var a=new FileReader,o=e.type.split("/")[1];"uri"===t.resultType?r({webPath:URL.createObjectURL(e),format:o,saved:!1}):(a.readAsDataURL(e),a.onloadend=function(){var e=a.result;r("dataUrl"===t.resultType?{dataUrl:e,format:o,saved:!1}:{base64String:e.split(",")[1],format:o,saved:!1})},a.onerror=function(e){n(e)})})}},{key:"checkPermissions",value:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof navigator&&navigator.permissions){t.next=2;break}throw e.unavailable("Permissions API not available in this browser");case 2:return t.prev=2,t.next=5,window.navigator.permissions.query({name:"camera"});case 5:return t.t0=t.sent.state,t.abrupt("return",{camera:t.t0,photos:"granted"});case 9:throw t.prev=9,t.t1=t.catch(2),e.unavailable("Camera permissions are not available in this browser");case 12:case"end":return t.stop()}},t,null,[[2,9]])}))()}},{key:"requestPermissions",value:function(){var e=this;return(0,c.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw e.unimplemented("Not implemented on web.");case 1:case"end":return t.stop()}},t)}))()}}])&&t(o.prototype,i),p&&t(o,p),f}(u.Uw),l=new p}}])}();